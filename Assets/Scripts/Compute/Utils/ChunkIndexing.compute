uint indexFromCoords(uint x, uint numPointsX, uint y, uint numPointsY, uint z)
{
    return z * numPointsX * numPointsY + y * numPointsX + x;
}

uint indexFromCoordsInCubes(uint x, uint numPointsX, uint y, uint numPointsY, uint z)
{    
    return indexFromCoords(x, numPointsX - 1, y, numPointsY - 1, z);
}